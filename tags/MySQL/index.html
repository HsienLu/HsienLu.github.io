<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Tag: MySQL | HsienLu&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="存放一些個人筆記分享">
<meta property="og:type" content="website">
<meta property="og:title" content="HsienLu&#39;s Blog">
<meta property="og:url" content="https://hsienlu.github.io/tags/MySQL/index.html">
<meta property="og:site_name" content="HsienLu&#39;s Blog">
<meta property="og:description" content="存放一些個人筆記分享">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="HsienLu">
<meta property="article:tag" content="前端,後端,全端,網頁,技術,心得,筆記">
<meta name="twitter:card" content="summary">
  
  
    <link rel="shortcut icon" href="/images/fav.png">
  
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;700&family=Tourney&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
  />
  
<link rel="stylesheet" href="/css/all.min.css">

<meta name="generator" content="Hexo 7.2.0"><style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body>
  <header
    class="py-md-4 border-bottom border-primary-200"
    style="margin-bottom: 1px;"
  >
  <nav class="navbar navbar-expand-md py-md-1">
    <div class="container">
      <a class="navbar-brand py-0" href="/">
        <img width="100px" src="/images/logo.png" alt="logo">
      </a>
      <button class="navbar-toggler border-0 shadow-none" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggler" aria-controls="navbarToggler" aria-expanded="false" aria-label="Toggle navigation">
        <span class="material-symbols-outlined fs-1 text-primary-900">menu</span>
      </button>
      <div class="collapse navbar-collapse offset-md-2 offset-lg-3" id="navbarToggler">
        <ul class="navbar-nav me-auto mb-2 mb-md-0 text-center">
          
          
            <li class="nav-item mb-4 mb-md-0 me-md-3 me-lg-7">
              <a
                class="nav-link "
                href="/"
              >
                <span class="position-relative px-2 py-1">首頁</span>
              </a>
            </li>
          
            <li class="nav-item mb-4 mb-md-0 me-md-3 me-lg-7">
              <a
                class="nav-link "
                href="/collection"
              >
                <span class="position-relative px-2 py-1">作品集</span>
              </a>
            </li>
          
            <li class="nav-item mb-4 mb-md-0 me-md-3 me-lg-7">
              <a
                class="nav-link "
                href="/service"
              >
                <span class="position-relative px-2 py-1">服務項目</span>
              </a>
            </li>
          
            <li class="nav-item mb-4 mb-md-0 me-md-3 me-lg-7">
              <a
                class="nav-link "
                href="/blog"
              >
                <span class="position-relative px-2 py-1">部落格</span>
              </a>
            </li>
          
            <li class="nav-item ">
              <a
                class="nav-link "
                href="/contact"
              >
                <span class="position-relative px-2 py-1">聯絡我</span>
              </a>
            </li>
          
        </ul>
      </div>
    </div>
  </nav>
</header>


  <main>
  <section class="container pb-7 pb-md-9">
    <div class="py-7 py-lg-9 mt-lg-9">
      <h2 class="title-deco mb-3 mb-lg-4 text-center text-primary-700 tracking-wide fw-semibold">部落格</h2>
      <p class="mb-0 text-center text-primary-500">不定期分享技術文章</p>
    </div>
    <div class="row flex-row-reverse mb-lg-9">
      <div class="col-12 col-lg-3">
        <aside class="blog__menu px-3 py-4 p-lg-7 bg-primary-100">
  <ul class="d-flex flex-lg-column justify-content-md-center justify-content-lg-start gap-7 mb-0 p-xxl-7 list-unstyled">
    <li class="flex-shrink-0">
      
      <a href="/blog" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none" type="button">全部文章</a>
    </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/React/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          React
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/JavaScript/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          JavaScript
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/Java/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          Java
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/MySQL/" class="blog__menu--active pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          MySQL
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/SQL/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          SQL
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/Hook/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          Hook
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/TypeScript/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          TypeScript
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/TypeHero/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          TypeHero
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/XML/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          XML
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/ejs/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          ejs
        </a>
      </li>
    
      
      <li class="flex-shrink-0">
        <a href="/tags/html/" class=" pb-1 fs-5 text-primary-600 link-primary-500 bg-transparent text-decoration-none">
          html
        </a>
      </li>
    
  </ul>
</aside>
      </div>

      <ul class="d-flex flex-column row-gap-7 row-gap-lg-9 gx-9 gx-lg-4 col-12 col-lg-9 mt-9 mt-lg-0 mb-0 pt-9 pt-lg-0">
        
          
   <!-- prevent image appear -->


<li
  id="post-MySQL-事務-Transaction"
  class="card border-0"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <article class="row g-0">
    <div class="col-12 col-lg-4">
      <img
        src="/images/default-cover.png"
        class="img-fluid w-100 h-100 object-fit-cover rounded-3"
        alt="article-MySQL-事務(Transaction)"
      >
    </div>
    <div class="col-12 col-lg-8">
      <div class="card-body pt-lg-0 pe-lg-0">
        <div class="d-flex justify-content-between justify-content-lg-start align-items-center gap-3 mb-3">
          <p class="card-text mb-0 fs-6 text-primary-600">
            <small class="text-body-secondary">
              2024/1/18
            </small>
          </p>

          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              MySQL
            </span>
          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              SQL
            </span>
          

        </div>
        <h5 class="card-title mb-3 text-primary-700">
          MySQL-事務(Transaction)
        </h5>
        <div class="cutoff-text mb-0 text-primary-700">
          <p>簡介: 事務(Transaction)是一個邏輯上的工作單位，它可以包含一個或多個 SQL 語句</p>
<span id="more"></span>

<p>簡介: 事務(Transaction)是一個邏輯上的工作單位，它可以包含一個或多個 SQL 語句。事務可以讓一組 SQL 語句作為一個單元來執行，這些語句要麼全部執行，要麼全部不執行。事務是一個不可分割的工作執行單元，事務中包含的 SQL 語句要麼全部執行，要麼全部不執行，事務在執行過程中發生錯誤，會被回滾(Rollback)到事務開始前的狀態，事務在執行過程中沒有發生錯誤，會被提交(Commit)。</p>
<h2 id="事務操作"><a href="#事務操作" class="headerlink" title="事務操作"></a>事務操作</h2><h3 id="開啟事務"><a href="#開啟事務" class="headerlink" title="開啟事務"></a>開啟事務</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">START</span> TRANSACTION;</span><br><span class="line"><span class="comment">-- 或</span></span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br></pre></td></tr></table></figure>

<h3 id="提交事務"><a href="#提交事務" class="headerlink" title="提交事務"></a>提交事務</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">COMMIT</span>;</span><br></pre></td></tr></table></figure>

<h3 id="回滾事務"><a href="#回滾事務" class="headerlink" title="回滾事務"></a>回滾事務</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ROLLBACK</span>;</span><br></pre></td></tr></table></figure>

<h2 id="事務特性-ACID"><a href="#事務特性-ACID" class="headerlink" title="事務特性(ACID)"></a>事務特性(ACID)</h2><h3 id="原子性-Atomicity"><a href="#原子性-Atomicity" class="headerlink" title="原子性(Atomicity)"></a>原子性(Atomicity)</h3><p>事務是一個不可分割的工作執行單元，事務中包含的 SQL 語句要麼全部執行，要麼全部不執行，事務在執行過程中發生錯誤，會被回滾(Rollback)到事務開始前的狀態，事務在執行過程中沒有發生錯誤，會被提交(Commit)。</p>
<h3 id="一致性-Consistency"><a href="#一致性-Consistency" class="headerlink" title="一致性(Consistency)"></a>一致性(Consistency)</h3><p>事務在執行過程中，數據庫會從一個一致性狀態轉換到另一個一致性狀態，事務開始前和結束後，數據庫的完整性約束沒有被破壞。</p>
<h3 id="隔離性-Isolation"><a href="#隔離性-Isolation" class="headerlink" title="隔離性(Isolation)"></a>隔離性(Isolation)</h3><p>事務的隔離性是指多個事務並發執行時，一個事務的執行不會被其他事務干擾，多個事務並發執行時，一個事務內部的操作及使用的數據對其他事務是隱藏的，其他事務的操作及使用的數據對該事務也是隱藏的。</p>
<h3 id="持久性-Durability"><a href="#持久性-Durability" class="headerlink" title="持久性(Durability)"></a>持久性(Durability)</h3><p>事務完成後(提交或是回滾)，事務對數據的修改被永久保存到數據庫中，即使發生故障也不會丟失。</p>
<h2 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> account(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">money <span class="type">int</span></span><br><span class="line"></span><br><span class="line">) ;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> account(name,money) <span class="keyword">values</span></span><br><span class="line">(&quot;AAA&quot;,<span class="number">2000</span>),</span><br><span class="line">(&quot;BBB&quot;,<span class="number">3000</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">begin</span>;</span><br><span class="line"><span class="keyword">SET</span> SQL_SAFE_UPDATES <span class="operator">=</span> <span class="number">0</span>; <span class="comment">-- 關閉安全模式</span></span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money<span class="operator">=</span>money<span class="number">-500</span> <span class="keyword">where</span> name<span class="operator">=</span>&quot;AAA&quot;;</span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money<span class="operator">=</span>money<span class="operator">+</span><span class="number">500</span> <span class="keyword">where</span> name<span class="operator">=</span>&quot;BBB&quot;;</span><br><span class="line"><span class="keyword">SET</span> SQL_SAFE_UPDATES <span class="operator">=</span> <span class="number">1</span>; <span class="comment">-- 開啟安全模式</span></span><br><span class="line"><span class="comment">-- commit; 預設式自動提交在mysql中</span></span><br><span class="line"><span class="keyword">rollback</span>;</span><br></pre></td></tr></table></figure>

        </p>
        <a class="stretched-link" href="/2024/01/18/MySQL-%E4%BA%8B%E5%8B%99-Transaction/"></a>
      </div>
    </div>
  </article>
</li>

        
          
   <!-- prevent image appear -->


<li
  id="post-MySQL-約束條件"
  class="card border-0"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <article class="row g-0">
    <div class="col-12 col-lg-4">
      <img
        src="/images/default-cover.png"
        class="img-fluid w-100 h-100 object-fit-cover rounded-3"
        alt="article-MySQL-約束條件"
      >
    </div>
    <div class="col-12 col-lg-8">
      <div class="card-body pt-lg-0 pe-lg-0">
        <div class="d-flex justify-content-between justify-content-lg-start align-items-center gap-3 mb-3">
          <p class="card-text mb-0 fs-6 text-primary-600">
            <small class="text-body-secondary">
              2024/1/18
            </small>
          </p>

          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              MySQL
            </span>
          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              SQL
            </span>
          

        </div>
        <h5 class="card-title mb-3 text-primary-700">
          MySQL-約束條件
        </h5>
        <div class="cutoff-text mb-0 text-primary-700">
          <p>MySQL 約束條件</p>
<span id="more"></span>

<h2 id="約束概念和分類"><a href="#約束概念和分類" class="headerlink" title="約束概念和分類"></a>約束概念和分類</h2><p>概念:約束條件是一種限制條件，用於限制變數的取值範圍，使得變數在取值時必須滿足某種條件。<br>約束分類表格</p>
<table>
<thead>
<tr>
<th align="center">約束分類</th>
<th align="center">約束名稱</th>
<th align="center">約束說明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">NOT NULL</td>
<td align="center">非空約束</td>
<td align="center">限制變數不能為空值</td>
</tr>
<tr>
<td align="center">UNIQUE</td>
<td align="center">唯一約束</td>
<td align="center">限制變數不能重複</td>
</tr>
<tr>
<td align="center">PRIMARY KEY</td>
<td align="center">主鍵約束</td>
<td align="center">限制變數不能為空值且不能重複</td>
</tr>
<tr>
<td align="center">CHECK</td>
<td align="center">檢查約束</td>
<td align="center">限制變數必須滿足某種條件</td>
</tr>
<tr>
<td align="center">DEFAULT</td>
<td align="center">默認約束</td>
<td align="center">限制變數沒有給定值時，默認為某個值</td>
</tr>
<tr>
<td align="center">FOREIGN KEY</td>
<td align="center">外鍵約束</td>
<td align="center">限制變數的值必須在另一個表中存在</td>
</tr>
</tbody></table>
<h3 id="外鍵約束"><a href="#外鍵約束" class="headerlink" title="外鍵約束"></a>外鍵約束</h3><p>概念:外鍵約束是一種約束條件，用於限制變數的值必須在另一個表中存在。<br>外鍵約束的語法格式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CONSTRAINT</span> 外鍵名稱 <span class="keyword">FOREIGN</span> KEY (外鍵欄位名稱) <span class="keyword">REFERENCES</span> 另一個表名稱(另一個表的欄位名稱)</span><br></pre></td></tr></table></figure>

<p>外鍵約束的語法範例</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">dep_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">addr <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">dep_id <span class="type">int</span> ,</span><br><span class="line"><span class="keyword">constraint</span> fk_emp_dept <span class="keyword">foreign</span> key(dep_id)</span><br><span class="line"><span class="keyword">references</span> dept(id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept (dep_name,addr) <span class="keyword">values</span></span><br><span class="line">(&quot;RD&quot;,&quot;台北&quot;),</span><br><span class="line">(&quot;ME&quot;,&quot;台中&quot;);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp (NAMe,age,dep_id) <span class="keyword">values</span></span><br><span class="line">(&quot;AAA&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;BBB&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;CCC&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;DDD&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;EEE&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;FFF&quot;,<span class="number">20</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>主表要先建立，外鍵表要後建立，否則會報錯</p>
</blockquote>

        </p>
        <a class="stretched-link" href="/2024/01/18/MySQL-%E7%B4%84%E6%9D%9F%E6%A2%9D%E4%BB%B6/"></a>
      </div>
    </div>
  </article>
</li>

        
          
   <!-- prevent image appear -->


<li
  id="post-MySQL-關聯資料表查詢"
  class="card border-0"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <article class="row g-0">
    <div class="col-12 col-lg-4">
      <img
        src="/images/default-cover.png"
        class="img-fluid w-100 h-100 object-fit-cover rounded-3"
        alt="article-MySQL-關聯資料表查詢"
      >
    </div>
    <div class="col-12 col-lg-8">
      <div class="card-body pt-lg-0 pe-lg-0">
        <div class="d-flex justify-content-between justify-content-lg-start align-items-center gap-3 mb-3">
          <p class="card-text mb-0 fs-6 text-primary-600">
            <small class="text-body-secondary">
              2024/1/18
            </small>
          </p>

          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              MySQL
            </span>
          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              SQL
            </span>
          

        </div>
        <h5 class="card-title mb-3 text-primary-700">
          MySQL-關聯資料表查詢
        </h5>
        <div class="cutoff-text mb-0 text-primary-700">
          <p>inner join、outer join、子查詢</p>
<span id="more"></span>

<h2 id="inner-join"><a href="#inner-join" class="headerlink" title="inner join"></a>inner join</h2><p>解釋: 用來查詢兩個表格中有關聯的資料，分成兩種寫法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table1, table2 <span class="keyword">WHERE</span> table1.id <span class="operator">=</span> table2.id;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> table2 <span class="keyword">ON</span> table1.id <span class="operator">=</span> table2.id;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>相當於取交集的意思</p>
</blockquote>
<h4 id="範例"><a href="#範例" class="headerlink" title="範例"></a>範例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 建立資料</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">dep_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">addr <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">dep_id <span class="type">int</span> ,</span><br><span class="line"><span class="keyword">constraint</span> fk_emp_dept <span class="keyword">foreign</span> key(dep_id)</span><br><span class="line"><span class="keyword">references</span> dept(id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept (dep_name,addr) <span class="keyword">values</span></span><br><span class="line">(&quot;RD&quot;,&quot;台北&quot;),</span><br><span class="line">(&quot;ME&quot;,&quot;台中&quot;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp (NAMe,age,dep_id) <span class="keyword">values</span></span><br><span class="line">(&quot;AAA&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;BBB&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;CCC&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;DDD&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;EEE&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;FFF&quot;,<span class="number">20</span>,<span class="number">2</span>);</span><br><span class="line"><span class="comment">-- 連接語法開始</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp , dept <span class="keyword">where</span> emp.dep_id <span class="operator">=</span> dept.id;</span><br><span class="line"><span class="comment">-- 另外一種寫法</span></span><br><span class="line"><span class="comment">-- SELECT * FROM emp JOIN dept ON dept.id = emp.dep_id;</span></span><br></pre></td></tr></table></figure>

<h2 id="outer-join"><a href="#outer-join" class="headerlink" title="outer join"></a>outer join</h2><p>解釋: 用來查詢兩個表格中有關聯的資料,並且會把沒有關聯的資料也查詢出來，又分成左外連結、右外連結、全外連結</p>
<h3 id="left-join"><a href="#left-join" class="headerlink" title="left join"></a>left join</h3><p>解釋: 用來查詢兩個表格中有關聯的資料,並且會把沒有關聯的資料也查詢出來，但是以左邊的表格為主</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table1 <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> table2 <span class="keyword">ON</span> table1.id <span class="operator">=</span> table2.id;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>取左邊表格的資料，並且把右邊表格的資料也查詢出來，如右邊沒有資料則顯示 null</p>
</blockquote>
<h4 id="範例-1"><a href="#範例-1" class="headerlink" title="範例"></a>範例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">dep_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">addr <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">dep_id <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept (dep_name,addr) <span class="keyword">values</span></span><br><span class="line">(&quot;RD&quot;,&quot;台北&quot;),</span><br><span class="line">(&quot;ME&quot;,&quot;台中&quot;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp (NAMe,age,dep_id) <span class="keyword">values</span></span><br><span class="line">(&quot;AAA&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;BBB&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;CCC&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;DDD&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;EEE&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;FFF&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;GGG&quot;,<span class="number">23</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">left</span> <span class="keyword">join</span> dept <span class="keyword">on</span> emp.dep_id<span class="operator">=</span>dept.id;</span><br></pre></td></tr></table></figure>

<h3 id="right-join"><a href="#right-join" class="headerlink" title="right join"></a>right join</h3><p>解釋: 用來查詢兩個表格中有關聯的資料,並且會把沒有關聯的資料也查詢出來，但是以右邊的表格為主</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table1 <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> table2 <span class="keyword">ON</span> table1.id <span class="operator">=</span> table2.id;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>取右邊表格的資料，並且把左邊表格的資料也查詢出來，如左邊沒有資料則顯示 null</p>
</blockquote>
<h4 id="範例-2"><a href="#範例-2" class="headerlink" title="範例"></a>範例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">dep_name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">addr <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">dep_id <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept (dep_name,addr) <span class="keyword">values</span></span><br><span class="line">(&quot;RD&quot;,&quot;台北&quot;),</span><br><span class="line">(&quot;ME&quot;,&quot;台中&quot;),</span><br><span class="line">(&quot;QA&quot;,&quot;高雄&quot;),</span><br><span class="line">(&quot;EE&quot;,&quot;台南&quot;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp (NAMe,age,dep_id) <span class="keyword">values</span></span><br><span class="line">(&quot;AAA&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;BBB&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;CCC&quot;,<span class="number">20</span>,<span class="number">1</span>),</span><br><span class="line">(&quot;DDD&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;EEE&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;FFF&quot;,<span class="number">20</span>,<span class="number">2</span>),</span><br><span class="line">(&quot;GGG&quot;,<span class="number">23</span>,<span class="number">3</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">right</span> <span class="keyword">join</span> dept <span class="keyword">on</span> emp.dep_id<span class="operator">=</span>dept.id;</span><br></pre></td></tr></table></figure>

<h3 id="子查詢"><a href="#子查詢" class="headerlink" title="子查詢"></a>子查詢</h3><p>解釋:重點是利用( )去包住查詢結果，並進一步的在外面加上查詢語法<br>基本語法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table1 <span class="keyword">WHERE</span> table1.id <span class="keyword">IN</span> (<span class="keyword">SELECT</span> table2.id <span class="keyword">FROM</span> table2);</span><br></pre></td></tr></table></figure>

        </p>
        <a class="stretched-link" href="/2024/01/18/MySQL-%E9%97%9C%E8%81%AF%E8%B3%87%E6%96%99%E8%A1%A8%E6%9F%A5%E8%A9%A2/"></a>
      </div>
    </div>
  </article>
</li>

        
          
   <!-- prevent image appear -->


<li
  id="post-MySQL-SQL語法介紹-DQL-資料查詢語言"
  class="card border-0"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <article class="row g-0">
    <div class="col-12 col-lg-4">
      <img
        src="/images/default-cover.png"
        class="img-fluid w-100 h-100 object-fit-cover rounded-3"
        alt="article-MySQL-SQL語法介紹-DQL 資料查詢語言"
      >
    </div>
    <div class="col-12 col-lg-8">
      <div class="card-body pt-lg-0 pe-lg-0">
        <div class="d-flex justify-content-between justify-content-lg-start align-items-center gap-3 mb-3">
          <p class="card-text mb-0 fs-6 text-primary-600">
            <small class="text-body-secondary">
              2024/1/18
            </small>
          </p>

          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              MySQL
            </span>
          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              SQL
            </span>
          

        </div>
        <h5 class="card-title mb-3 text-primary-700">
          MySQL-SQL語法介紹-DQL 資料查詢語言
        </h5>
        <div class="cutoff-text mb-0 text-primary-700">
          <p>DQL(Data Query Language) 資料查詢語言</p>
<span id="more"></span>

<h3 id="基礎查詢資料"><a href="#基礎查詢資料" class="headerlink" title="基礎查詢資料"></a>基礎查詢資料</h3><h4 id="查詢資料"><a href="#查詢資料" class="headerlink" title="查詢資料"></a>查詢資料</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 欄位名<span class="number">1</span>, 欄位名<span class="number">2</span>, ... <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 條件;</span><br></pre></td></tr></table></figure>

<h4 id="去除重複資料"><a href="#去除重複資料" class="headerlink" title="去除重複資料"></a>去除重複資料</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> 欄位名<span class="number">1</span>, 欄位名<span class="number">2</span>, ... <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 條件;</span><br></pre></td></tr></table></figure>

<h4 id="取別名"><a href="#取別名" class="headerlink" title="取別名"></a>取別名</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 欄位名<span class="number">1</span> <span class="keyword">AS</span> 別名<span class="number">1</span>, 欄位名<span class="number">2</span> <span class="keyword">AS</span> 別名<span class="number">2</span>, ... <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 條件;</span><br></pre></td></tr></table></figure>

<h3 id="條件查詢"><a href="#條件查詢" class="headerlink" title="條件查詢"></a>條件查詢</h3><h4 id="基本語法"><a href="#基本語法" class="headerlink" title="基本語法"></a>基本語法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 欄位名<span class="number">1</span>, 欄位名<span class="number">2</span>, ... <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 條件;</span><br></pre></td></tr></table></figure>

<h4 id="條件查詢關鍵字表格"><a href="#條件查詢關鍵字表格" class="headerlink" title="條件查詢關鍵字表格"></a>條件查詢關鍵字表格</h4><table>
<thead>
<tr>
<th>關鍵字</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>&gt;</td>
<td>大於</td>
</tr>
<tr>
<td>&lt;</td>
<td>小於</td>
</tr>
<tr>
<td>&gt;&#x3D;</td>
<td>大於等於</td>
</tr>
<tr>
<td>&lt;&#x3D;</td>
<td>小於等於</td>
</tr>
<tr>
<td>&#x3D;</td>
<td>等於</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>不等於</td>
</tr>
<tr>
<td>&lt;&gt;</td>
<td>不等於</td>
</tr>
<tr>
<td>BETWEEN…AND…</td>
<td>在…之間</td>
</tr>
<tr>
<td>IN(…)</td>
<td>在…群組之中</td>
</tr>
<tr>
<td>LIKE</td>
<td>模糊查詢</td>
</tr>
<tr>
<td>IS NULL</td>
<td>為空值</td>
</tr>
<tr>
<td>IS NOT NULL</td>
<td>不為空值</td>
</tr>
<tr>
<td>AND</td>
<td>且</td>
</tr>
<tr>
<td>OR</td>
<td>或</td>
</tr>
<tr>
<td>NOT</td>
<td>非</td>
</tr>
</tbody></table>
<h4 id="條件查詢範例"><a href="#條件查詢範例" class="headerlink" title="條件查詢範例"></a>條件查詢範例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="operator">&gt;</span> <span class="number">100</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="keyword">BETWEEN</span> <span class="number">100</span> <span class="keyword">AND</span> <span class="number">200</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="keyword">IN</span>(<span class="number">100</span>, <span class="number">200</span>, <span class="number">300</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="keyword">LIKE</span> <span class="string">&#x27;A%&#x27;</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="keyword">IS</span> <span class="keyword">NULL</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="operator">&gt;</span> <span class="number">100</span> <span class="keyword">AND</span> 欄位名<span class="number">2</span> <span class="operator">&lt;</span> <span class="number">200</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="operator">&gt;</span> <span class="number">100</span> <span class="keyword">OR</span> 欄位名<span class="number">2</span> <span class="operator">&lt;</span> <span class="number">200</span>;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> <span class="keyword">NOT</span> 欄位名<span class="number">1</span> <span class="operator">&gt;</span> <span class="number">100</span>;</span><br></pre></td></tr></table></figure>

<h4 id="like-模糊查詢介紹"><a href="#like-模糊查詢介紹" class="headerlink" title="like 模糊查詢介紹"></a>like 模糊查詢介紹</h4><p>XX%XX 代表任意長度的字串</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="keyword">LIKE</span> <span class="string">&#x27;%A%&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>XX_XX 代表任意一個字元</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 欄位名<span class="number">1</span> <span class="keyword">LIKE</span> <span class="string">&#x27;A_&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="排序查詢"><a href="#排序查詢" class="headerlink" title="排序查詢"></a>排序查詢</h3><h4 id="排序查詢語法"><a href="#排序查詢語法" class="headerlink" title="排序查詢語法"></a>排序查詢語法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 欄位名<span class="number">1</span>, 欄位名<span class="number">2</span>, ... <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 條件 <span class="keyword">ORDER</span> <span class="keyword">BY</span> 欄位名<span class="number">1</span> <span class="keyword">ASC</span><span class="operator">/</span><span class="keyword">DESC</span>, 欄位名<span class="number">2</span> <span class="keyword">ASC</span><span class="operator">/</span><span class="keyword">DESC</span>, ...;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果有多個欄位，會先以第一個欄位排序，如果第一個欄位有相同的值，再以第二個欄位排序，以此類推</p>
</blockquote>
<h4 id="聚合函數語法"><a href="#聚合函數語法" class="headerlink" title="聚合函數語法"></a>聚合函數語法</h4><table>
<thead>
<tr>
<th>聚合函數</th>
<th>說明</th>
</tr>
</thead>
<tbody><tr>
<td>COUNT(欄位名)</td>
<td>計算欄位名的總數</td>
</tr>
<tr>
<td>SUM(欄位名)</td>
<td>計算欄位名的總和</td>
</tr>
<tr>
<td>AVG(欄位名)</td>
<td>計算欄位名的平均值</td>
</tr>
<tr>
<td>MAX(欄位名)</td>
<td>計算欄位名的最大值</td>
</tr>
<tr>
<td>MIN(欄位名)</td>
<td>計算欄位名的最小值</td>
</tr>
</tbody></table>
<blockquote>
<p>所有聚合函數都會忽略 NULL 值</p>
</blockquote>
<h4 id="聚合函數範例"><a href="#聚合函數範例" class="headerlink" title="聚合函數範例"></a>聚合函數範例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(欄位名<span class="number">1</span>), <span class="built_in">SUM</span>(欄位名<span class="number">2</span>), <span class="built_in">AVG</span>(欄位名<span class="number">3</span>), <span class="built_in">MAX</span>(欄位名<span class="number">4</span>), <span class="built_in">MIN</span>(欄位名<span class="number">5</span>) <span class="keyword">FROM</span> 資料表名;</span><br></pre></td></tr></table></figure>

<h4 id="分組查詢語法"><a href="#分組查詢語法" class="headerlink" title="分組查詢語法"></a>分組查詢語法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 欄位名<span class="number">1</span>, 聚合函數<span class="number">1</span>, 聚合函數<span class="number">2</span>, ... <span class="keyword">FROM</span> 資料表名 <span class="keyword">GROUP</span> <span class="keyword">BY</span> 欄位名<span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h4 id="分組查詢範例-搭配-where"><a href="#分組查詢範例-搭配-where" class="headerlink" title="分組查詢範例(搭配 where)"></a>分組查詢範例(搭配 where)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 欄位名<span class="number">1</span>, 聚合函數<span class="number">1</span>, 聚合函數<span class="number">2</span>, ... <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 條件 <span class="keyword">GROUP</span> <span class="keyword">BY</span> 欄位名<span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h4 id="分組查詢範例-搭配-having"><a href="#分組查詢範例-搭配-having" class="headerlink" title="分組查詢範例(搭配 having)"></a>分組查詢範例(搭配 having)</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 欄位名<span class="number">1</span>, 聚合函數<span class="number">1</span>, 聚合函數<span class="number">2</span>, ... <span class="keyword">FROM</span> 資料表名 <span class="keyword">GROUP</span> <span class="keyword">BY</span> 欄位名<span class="number">1</span> <span class="keyword">HAVING</span> 條件;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>執行順序: WHERE -&gt; 聚合函數 -&gt; HAVING</p>
</blockquote>
<h4 id="分頁查詢語法"><a href="#分頁查詢語法" class="headerlink" title="分頁查詢語法"></a>分頁查詢語法</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 欄位名<span class="number">1</span>, 欄位名<span class="number">2</span>, ... <span class="keyword">FROM</span> 資料表名 LIMIT 起始位置, 查詢筆數;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>起始索引計算方式&#x3D; (頁數 - 1) * 每頁筆數</p>
</blockquote>
<h4 id="分頁查詢範例"><a href="#分頁查詢範例" class="headerlink" title="分頁查詢範例"></a>分頁查詢範例</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 資料表名 LIMIT <span class="number">0</span>, <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>LIMIT 是 MySQL 的語法，不是標準 SQL 語法，不同的資料庫可能會有不同的寫法</p>
</blockquote>
<h3 id="DQL-小結"><a href="#DQL-小結" class="headerlink" title="DQL 小結"></a>DQL 小結</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 欄位名<span class="number">1</span>, 欄位名<span class="number">2</span>, ...</span><br><span class="line"><span class="keyword">FROM</span> 資料表名</span><br><span class="line"><span class="keyword">WHERE</span> 條件</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> 欄位名<span class="number">1</span></span><br><span class="line"><span class="keyword">HAVING</span> 條件</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> 欄位名<span class="number">1</span> <span class="keyword">ASC</span><span class="operator">/</span><span class="keyword">DESC</span>, 欄位名<span class="number">2</span> <span class="keyword">ASC</span><span class="operator">/</span><span class="keyword">DESC</span>, ...</span><br><span class="line">LIMIT 起始位置, 查詢筆數;</span><br></pre></td></tr></table></figure>

        </p>
        <a class="stretched-link" href="/2024/01/18/MySQL-SQL%E8%AA%9E%E6%B3%95%E4%BB%8B%E7%B4%B9-DQL-%E8%B3%87%E6%96%99%E6%9F%A5%E8%A9%A2%E8%AA%9E%E8%A8%80/"></a>
      </div>
    </div>
  </article>
</li>

        
          
   <!-- prevent image appear -->


<li
  id="post-MySQL-SQL語法介紹-DML-資料操作語言"
  class="card border-0"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <article class="row g-0">
    <div class="col-12 col-lg-4">
      <img
        src="/images/default-cover.png"
        class="img-fluid w-100 h-100 object-fit-cover rounded-3"
        alt="article-MySQL-SQL語法介紹-DML 資料定義語言"
      >
    </div>
    <div class="col-12 col-lg-8">
      <div class="card-body pt-lg-0 pe-lg-0">
        <div class="d-flex justify-content-between justify-content-lg-start align-items-center gap-3 mb-3">
          <p class="card-text mb-0 fs-6 text-primary-600">
            <small class="text-body-secondary">
              2024/1/18
            </small>
          </p>

          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              MySQL
            </span>
          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              SQL
            </span>
          

        </div>
        <h5 class="card-title mb-3 text-primary-700">
          MySQL-SQL語法介紹-DML 資料定義語言
        </h5>
        <div class="cutoff-text mb-0 text-primary-700">
          <p>DML(Data Manipulation Language) 資料操作語言</p>
<span id="more"></span>

<h4 id="給指定欄位新增資料"><a href="#給指定欄位新增資料" class="headerlink" title="給指定欄位新增資料"></a>給指定欄位新增資料</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> 資料表名(欄位名<span class="number">1</span>, 欄位名<span class="number">2</span>, ...) <span class="keyword">VALUES</span>(值<span class="number">1</span>, 值<span class="number">2</span>, ...);</span><br></pre></td></tr></table></figure>

<h4 id="修改資料"><a href="#修改資料" class="headerlink" title="修改資料"></a>修改資料</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span> 資料表名 <span class="keyword">SET</span> 欄位名<span class="number">1</span><span class="operator">=</span>值<span class="number">1</span>, 欄位名<span class="number">2</span><span class="operator">=</span>值<span class="number">2</span>, ... <span class="keyword">WHERE</span> 條件;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>WHERE 條件可以不寫，但是如果不寫，會將資料表所有資料都修改</p>
</blockquote>
<h4 id="刪除資料"><a href="#刪除資料" class="headerlink" title="刪除資料"></a>刪除資料</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> 資料表名 <span class="keyword">WHERE</span> 條件;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>WHERE 條件可以不寫，但是如果不寫，會將資料表所有資料都刪除</p>
</blockquote>

        </p>
        <a class="stretched-link" href="/2024/01/18/MySQL-SQL%E8%AA%9E%E6%B3%95%E4%BB%8B%E7%B4%B9-DML-%E8%B3%87%E6%96%99%E6%93%8D%E4%BD%9C%E8%AA%9E%E8%A8%80/"></a>
      </div>
    </div>
  </article>
</li>

        
          
   <!-- prevent image appear -->


<li
  id="post-MySQL-SQL語法介紹-DDL 資料定義語言"
  class="card border-0"
  itemprop="blogPost"
  itemscope
  itemtype="https://schema.org/BlogPosting"
>
  <article class="row g-0">
    <div class="col-12 col-lg-4">
      <img
        src="/images/default-cover.png"
        class="img-fluid w-100 h-100 object-fit-cover rounded-3"
        alt="article-MySQL-SQL語法介紹-DDL 資料定義語言"
      >
    </div>
    <div class="col-12 col-lg-8">
      <div class="card-body pt-lg-0 pe-lg-0">
        <div class="d-flex justify-content-between justify-content-lg-start align-items-center gap-3 mb-3">
          <p class="card-text mb-0 fs-6 text-primary-600">
            <small class="text-body-secondary">
              2024/1/18
            </small>
          </p>

          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              MySQL
            </span>
          
            <span class="badge fs-6 lh-base fw-normal text-primary-700 bg-primary-200 rounded-4">
              SQL
            </span>
          

        </div>
        <h5 class="card-title mb-3 text-primary-700">
          MySQL-SQL語法介紹-DDL 資料定義語言
        </h5>
        <div class="cutoff-text mb-0 text-primary-700">
          <p>DDL(Data Definition Language) 資料定義語言</p>
<span id="more"></span>

<h3 id="操作資料庫"><a href="#操作資料庫" class="headerlink" title="操作資料庫"></a>操作資料庫</h3><p>####查詢資料庫</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> DATABASES;</span><br></pre></td></tr></table></figure>

<p>####新增資料庫</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE 資料庫名;</span><br></pre></td></tr></table></figure>

<p>####刪除資料庫</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE 資料庫名;</span><br></pre></td></tr></table></figure>

<p>####使用資料庫</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">USE 資料庫名;</span><br></pre></td></tr></table></figure>

<p>####查看目前使用的數據庫</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> DATABASE();</span><br></pre></td></tr></table></figure>

<h3 id="操作資料表"><a href="#操作資料表" class="headerlink" title="操作資料表"></a>操作資料表</h3><h4 id="查詢所有資料表"><a href="#查詢所有資料表" class="headerlink" title="查詢所有資料表"></a>查詢所有資料表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> TABLES;</span><br></pre></td></tr></table></figure>

<h4 id="查詢資料表結構"><a href="#查詢資料表結構" class="headerlink" title="查詢資料表結構"></a>查詢資料表結構</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> 資料表名;</span><br></pre></td></tr></table></figure>

<h4 id="新增資料表"><a href="#新增資料表" class="headerlink" title="新增資料表"></a>新增資料表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 資料表名(</span><br><span class="line">    欄位名<span class="number">1</span> 資料型態<span class="number">1</span>,</span><br><span class="line">    欄位名<span class="number">2</span> 資料型態<span class="number">2</span>,</span><br><span class="line">    ...</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="刪除資料表"><a href="#刪除資料表" class="headerlink" title="刪除資料表"></a>刪除資料表</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> 資料表名;</span><br></pre></td></tr></table></figure>

<h4 id="修改資料表"><a href="#修改資料表" class="headerlink" title="修改資料表"></a>修改資料表</h4><p>####修改資料表名稱</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 資料表名 RENAME 新資料表名;</span><br></pre></td></tr></table></figure>

<p>####新增欄位</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 資料表名 <span class="keyword">ADD</span> 欄位名 資料型態;</span><br></pre></td></tr></table></figure>

<p>####修改資料類型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 資料表名 MODIFY 欄位名 新資料型態;</span><br></pre></td></tr></table></figure>

<p>####修改資料表欄位名稱和資料類型</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 資料表名 CHANGE 欄位名 新欄位名 新資料型態;</span><br></pre></td></tr></table></figure>

<p>####刪除欄位</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 資料表名 <span class="keyword">DROP</span> 欄位名;</span><br></pre></td></tr></table></figure>

        </p>
        <a class="stretched-link" href="/2024/01/18/MySQL-SQL%E8%AA%9E%E6%B3%95%E4%BB%8B%E7%B4%B9-DDL%20%E8%B3%87%E6%96%99%E5%AE%9A%E7%BE%A9%E8%AA%9E%E8%A8%80/"></a>
      </div>
    </div>
  </article>
</li>

        
      </ul>
    </div>

    <nav class="mb-7 mb-md-9" aria-label="Page navigation">
      <ul class="pagination justify-content-center gap-3">
        
      </ul>
    </nav>
  </section>
    
</main>


  <footer
    class="py-7"
    style="background-image: url('/images/footer-bg-lg.png');
      background-repeat: no-repeat;
      background-size: cover;"
  >
  <div class="container">
    <div class="row row-gap-7 justify-content-between align-items-center my-md-7">
      <div class="col-12 col-md-4 col-lg-3">
        <img
          class="mb-4"
          style="width: 120px;"
          src="/images/logo.svg" alt="logo"
        >
        <p class="mb-4 fs-5 text-primary-700">歡迎填寫表單，或直接與我聯絡！</p>
        <a
          class="link-primary-500 fs-5 text-decoration-none" href="mailto:service@hexschool.com">service@hexschool.com</a>
      </div>
      <div class="col-12 col-md-6 col-lg-4 col-xxl-3">
        <a class="btn btn-lg icon-link link-primary-500 w-100 px-4 mb-4 lh-base text-start fw-bold text-primary-50 bg-primary-900" href="#">
          <svg class="bi display-4" width="56" height="56" viewBox="0 0 56 56" fill="currentcolor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M16 13H39V43H16L16 13ZM13 13C13 11.3431 14.3431 10 16 10H39C40.6569 10 42 11.3431 42 13V43C42 44.6569 40.6569 46 39 46H16C14.3431 46 13 44.6569 13 43V13ZM22 20C22 20.8284 21.3284 21.5 20.5 21.5C19.6716 21.5 19 20.8284 19 20C19 19.1716 19.6716 18.5 20.5 18.5C21.3284 18.5 22 19.1716 22 20ZM22 27C22 27.8284 21.3284 28.5 20.5 28.5C19.6716 28.5 19 27.8284 19 27C19 26.1716 19.6716 25.5 20.5 25.5C21.3284 25.5 22 26.1716 22 27ZM20.5 35.5C21.3284 35.5 22 34.8284 22 34C22 33.1716 21.3284 32.5 20.5 32.5C19.6716 32.5 19 33.1716 19 34C19 34.8284 19.6716 35.5 20.5 35.5ZM24 20C24 19.1716 24.6716 18.5 25.5 18.5H33.5C34.3284 18.5 35 19.1716 35 20C35 20.8284 34.3284 21.5 33.5 21.5H25.5C24.6716 21.5 24 20.8284 24 20ZM25.5 25.5C24.6716 25.5 24 26.1716 24 27C24 27.8284 24.6716 28.5 25.5 28.5H33.5C34.3284 28.5 35 27.8284 35 27C35 26.1716 34.3284 25.5 33.5 25.5H25.5ZM24 34C24 33.1716 24.6716 32.5 25.5 32.5H33.5C34.3284 32.5 35 33.1716 35 34C35 34.8284 34.3284 35.5 33.5 35.5H25.5C24.6716 35.5 24 34.8284 24 34Z" fill="currentcolor"/>
          </svg>
          填寫表單
        </a>
        <a class="btn btn-lg w-100 px-4 mb-4 lh-base text-start link-primary-500 text-primary-700 bg-primary-50" href="#">
          <i class="bi bi-instagram align-middle px-2 fs-1"></i>
          hexschool_demo
        </a>
        <a class="btn btn-lg w-100 px-4 lh-base text-start link-primary-500 text-primary-700 bg-primary-50" href="#">
          <i class="bi bi-facebook align-middle px-2 fs-1"></i>
          hexschoolTW
        </a>
      </div>
    </div>
  </div>
</footer>
  
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  
<script src="/js/swiper.js"></script>

</body>
</html>